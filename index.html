<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Loves</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
      background: 
    linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), /* l·ªõp ph·ªß m·ªù 30% */
      url('a.jpg') no-repeat center center fixed;
      background-size: contain; /* Hi·ªÉn th·ªã to√†n b·ªô ·∫£nh */
      background-color: #000;   /* M√†u n·ªÅn vi·ªÅn n·∫øu ·∫£nh kh√¥ng ph·ªß h·∫øt */
      font-family: 'Times New Roman', Times, serif;
      user-select: none;
      perspective: 1000px;
      cursor: pointer;
    }
    
    

    #galaxy, #rotatingContainer {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      z-index: 1;
    }

    #rotatingContainer {
      z-index: 2;
      top: 50%;
      left: 50%;
      transform-style: preserve-3d;
      transform-origin: center center;
      transform: translate(-50%, -50%) rotateX(0deg) rotateY(0deg);
    }
    
    #playMusicBtn {
      position: fixed;
      top: 50%;
      right: 20px;
      transform: translateY(-50%);
      z-index: 1000;
      background-color: #ff7487;
      border: none;
      color: white;
      padding: 8px 12px;          /* gi·∫£m padding */
      border-radius: 15px;        /* gi·∫£m bo g√≥c */
      box-shadow: 0 0 10px rgba(255,255,255,0.5);
      font-size: 14px;            /* gi·∫£m font-size */
      cursor: pointer;
    }
    
    
    .text-particle, .image-particle {
      position: absolute;
      will-change: transform, opacity;
      user-select: none;
      pointer-events: none;
    }

    .text-particle {
      white-space: nowrap;
      color: #fff;
      font-weight: bold;
      text-shadow:
        0 0 8px #ff7487,
        0 0 12px #ff7487,
        0 0 16px #fff;
      font-size: 20px;
      letter-spacing: 1px;
    }
    

    .image-particle {
      max-width: 200px;
      max-height: 200px;
      border-radius: 5px;
      filter: drop-shadow(0 0 4px #fff);
    }
  </style>
</head>
<body>
<!-- N√∫t ph√°t nh·∫°c ·ªü gi·ªØa b√™n ph·∫£i -->
<button id="playMusicBtn"
  style="position: fixed; top: 50%; right: 20px; transform: translateY(-50%);
         z-index: 1000; background-color: #ff7487; border: none; color: white;
         padding: 12px 20px; border-radius: 30px;
         box-shadow: 0 0 10px rgba(255,255,255,0.5);
         font-size: 16px; cursor: pointer;">
  üîä Ph√°t nh·∫°c
</button>


  <div id="galaxy"></div>
  <div id="rotatingContainer"></div>

  <script type="module">
    import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js';
  
    const rotatingContainer = document.getElementById('rotatingContainer');
    const galaxy = document.getElementById('galaxy');
  
    const messages = ["Ch√∫c m·ª´ng 20/10", "Ch√∫c c√°c ng∆∞·ªùi ƒë·∫πp lu√¥n xinh ƒë·∫πp r·∫°ng r·ª°", "Lu√¥n vui v·∫ª t√≠ch c·ª±c", "Ch√∫c c√°c ng∆∞·ªùi ƒë·∫πp xinh ƒë·ª©a m√¨nh gh√©t v√† n√©t h∆°n ƒë·ª©a gh√©t m√¨nh :))))"];
    const imageURLs = [
  "a1.jpg", "a2.jpg", "a3.jpg", "a4.jpg", "a5.jpg",
  "a6.jpg", "a7.jpg", "a8.jpg", "a9.jpg", "a10.jpg"
];


    const icons = ["‚ù§Ô∏è", "‚ù§", "üíó"];
    const maxParticles = 120;
    const activeParticles = new Set();
  
    function createParticle(type = 'text') {
      if (activeParticles.size >= maxParticles) return;
  
      const el = type === 'text' ? document.createElement('div') : document.createElement('img');
      if (type === 'text') {
        const isIcon = Math.random() < 0.3;
        el.className = 'text-particle';
        el.textContent = isIcon
          ? icons[Math.floor(Math.random() * icons.length)]
          : messages[Math.floor(Math.random() * messages.length)];
        el.style.fontSize = (isIcon ? 20 : 18) + Math.random() * 10 + 'px';
      
        // üåà B·∫£ng m√†u neon n·ªïi b·∫≠t, d·ªÖ nh√¨n tr√™n n·ªÅn t·ªëi
        const colors = [
          '#ff4b5c', // ƒë·ªè h·ªìng neon
          '#06d6a0', // xanh ng·ªçc
          '#118ab2', // xanh d∆∞∆°ng ƒë·∫≠m
          '#8338ec', // t√≠m
          '#f72585', // h·ªìng fuchsia
          '#ff9f1c', // cam s√°ng
          '#ef476f'  // h·ªìng san h√¥
        ];
        el.style.color = colors[Math.floor(Math.random() * colors.length)];
      
        // ‚ú® Vi·ªÅn tr·∫Øng m·∫£nh ƒë·ªÉ n·ªïi b·∫≠t h∆°n tr√™n n·ªÅn t·ªëi
        el.style.webkitTextStroke = '0.15px black';
      
        // üí´ Hi·ªáu ·ª©ng ph√°t s√°ng ƒë·ªìng b·ªô m√†u ch·ªØ
        el.style.textShadow = `
          0 0 8px ${el.style.color},
          0 0 12px ${el.style.color},
          0 0 16px #fff
        `;
      } else {
      
      
        el.className = 'image-particle';
        el.src = imageURLs[Math.floor(Math.random() * imageURLs.length)];
      }
      el.style.opacity = 0;
      rotatingContainer.appendChild(el);
  
      const w = el.offsetWidth || 40;
      el.style.left = Math.random() * (window.innerWidth - w) + 'px';
  
      const z = -Math.random() * 300;
      const startY = -50;
      const endY = window.innerHeight + 50;
      const duration = 7000 + Math.random() * 4000;
      const t0 = performance.now();
  
      function animate(t) {
        const p = (t - t0) / duration;
        if (p >= 1) {
          el.remove();
          activeParticles.delete(el);
        } else {
          const y = startY + p * (endY - startY);
          const op = p < 0.1 ? p * 10 : (p > 0.9 ? (1 - p) * 10 : 1);
          el.style.opacity = op;
          el.style.transform = `translate3d(0, ${y}px, ${z}px)`;
          requestAnimationFrame(animate);
        }
      }
  
      activeParticles.add(el);
      requestAnimationFrame(animate);
    }
  
    function loopParticles() {
      let last = 0;
      function tick(t) {
        if (t - last > 300) {
          createParticle('text');
          if (Math.random() < 0.5) createParticle('image');
          last = t;
        }
        requestAnimationFrame(tick);
      }
      requestAnimationFrame(tick);
    }
  
    function startStars() {
      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
      camera.position.z = 150;
  
      const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.setClearColor(0x000000, 0);
      galaxy.appendChild(renderer.domElement);
  
      const starsCount = 500;
      const positions = new Float32Array(starsCount * 3);
      for (let i = 0; i < starsCount; i++) {
        positions[i * 3] = (Math.random() - 0.5) * 400;
        positions[i * 3 + 1] = (Math.random() - 0.5) * 400;
        positions[i * 3 + 2] = (Math.random() - 0.5) * 400;
      }
  
      const geometry = new THREE.BufferGeometry();
      geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
  
      const loader = new THREE.TextureLoader();
      const starTexture = loader.load('https://threejs.org/examples/textures/sprites/disc.png');
  
      const material = new THREE.PointsMaterial({
        color: 0xffffff,
        size: 0.5,
        map: starTexture,
        transparent: true,
        alphaTest: 0.2,
        depthWrite: false
      });
  
      const stars = new THREE.Points(geometry, material);
      scene.add(stars);
  
      function animate() {
        renderer.render(scene, camera);
        requestAnimationFrame(animate);
      }
      animate();
  
      window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
      });
    }
  
    function initRotation() {
      function updateRotation(x, y) {
        const cx = window.innerWidth / 2;
        const cy = window.innerHeight / 2;
        const rotY = ((x - cx) / cx) * 10;
        const rotX = (-(y - cy) / cy) * 10;
        rotatingContainer.style.transform = `translate(-50%, -50%) rotateX(${rotX}deg) rotateY(${rotY}deg)`;
      }
  
      document.addEventListener('mousemove', e => updateRotation(e.clientX, e.clientY));
      document.addEventListener('touchmove', e => {
        if (e.touches.length > 0) {
          const t = e.touches[0];
          updateRotation(t.clientX, t.clientY);
        }
      }, { passive: true });
    }

  
    window.addEventListener('DOMContentLoaded', () => {
      startStars();
      loopParticles();
      initRotation();
      setupMusic();
    });
    const playBtn = document.getElementById('playMusicBtn');
let audio;

playBtn.addEventListener('click', () => {
  if (!audio) {
    audio = new Audio('./a.mp3'); // ƒê·∫£m b·∫£o file e.mp3 n·∫±m c√πng th∆∞ m·ª•c
    audio.loop = true;
  }

  audio.play()
    .then(() => {
      console.log('ƒê√£ ph√°t nh·∫°c!');
      playBtn.style.display = 'none'; // ·∫®n n√∫t sau khi ph√°t (c√≥ th·ªÉ b·ªè n·∫øu mu·ªën gi·ªØ l·∫°i)
    })
    .catch(err => {
      console.error('Kh√¥ng ph√°t ƒë∆∞·ª£c nh·∫°c:', err);
      alert('Tr√¨nh duy·ªát ch·∫∑n ph√°t nh·∫°c. Vui l√≤ng th·ª≠ l·∫°i.');
    });
});

  </script>
  
</body>
</html>
